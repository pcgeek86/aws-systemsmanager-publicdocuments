{
  "AttachmentsContent": [],
  "Content": "{\n  \"schemaVersion\" : \"1.0\",\n  \"description\" : \"Operational Best Practices for AI and ML\",\n  \"templateBody\" : {\n    \"Parameters\" : {\n      \"EcsNoEnvironmentSecretsParamSecretKeys\" : {\n        \"Default\" : \"AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ECS_ENGINE_AUTH_DATA\",\n        \"Type\" : \"String\"\n      },\n      \"EcsTaskDefinitionUserForHostModeCheckParamSkipInactiveTaskDefinitions\" : {\n        \"Default\" : \"TRUE\",\n        \"Type\" : \"String\"\n      },\n      \"EksClusterOldestSupportedVersionParamOldestVersionSupported\" : {\n        \"Default\" : \"1.2\",\n        \"Type\" : \"String\"\n      },\n      \"EksClusterSupportedVersionParamOldestVersionSupported\" : {\n        \"Default\" : \"1.2\",\n        \"Type\" : \"String\"\n      }\n    },\n    \"Resources\" : {\n      \"CloudtrailS3DataeventsEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"cloudtrail-s3-dataevents-enabled\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"CLOUDTRAIL_S3_DATAEVENTS_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsContainerInsightsEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-container-insights-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::Cluster\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_CONTAINER_INSIGHTS_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsContainersNonprivileged\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-containers-nonprivileged\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_CONTAINERS_NONPRIVILEGED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsContainersReadonlyAccess\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-containers-readonly-access\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_CONTAINERS_READONLY_ACCESS\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsFargateLatestPlatformVersion\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-fargate-latest-platform-version\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::Service\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_FARGATE_LATEST_PLATFORM_VERSION\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsNoEnvironmentSecrets\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-no-environment-secrets\",\n          \"InputParameters\" : {\n            \"secretKeys\" : {\n              \"Fn::If\" : [ \"ecsNoEnvironmentSecretsParamSecretKeys\", {\n                \"Ref\" : \"EcsNoEnvironmentSecretsParamSecretKeys\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_NO_ENVIRONMENT_SECRETS\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsTaskDefinitionMemoryHardLimit\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-task-definition-memory-hard-limit\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_TASK_DEFINITION_MEMORY_HARD_LIMIT\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsTaskDefinitionNonrootUser\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-task-definition-nonroot-user\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_TASK_DEFINITION_NONROOT_USER\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsTaskDefinitionPidModeCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-task-definition-pid-mode-check\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_TASK_DEFINITION_PID_MODE_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EcsTaskDefinitionUserForHostModeCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"ecs-task-definition-user-for-host-mode-check\",\n          \"InputParameters\" : {\n            \"SkipInactiveTaskDefinitions\" : {\n              \"Fn::If\" : [ \"ecsTaskDefinitionUserForHostModeCheckParamSkipInactiveTaskDefinitions\", {\n                \"Ref\" : \"EcsTaskDefinitionUserForHostModeCheckParamSkipInactiveTaskDefinitions\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ECS::TaskDefinition\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ECS_TASK_DEFINITION_USER_FOR_HOST_MODE_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EfsAccessPointEnforceRootDirectory\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"efs-access-point-enforce-root-directory\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::EFS::AccessPoint\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EFS_ACCESS_POINT_ENFORCE_ROOT_DIRECTORY\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EfsAccessPointEnforceUserIdentity\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"efs-access-point-enforce-user-identity\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::EFS::AccessPoint\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EFS_ACCESS_POINT_ENFORCE_USER_IDENTITY\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EfsEncryptedCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"efs-encrypted-check\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EFS_ENCRYPTED_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EfsInBackupPlan\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"efs-in-backup-plan\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EFS_IN_BACKUP_PLAN\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EksClusterOldestSupportedVersion\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"eks-cluster-oldest-supported-version\",\n          \"InputParameters\" : {\n            \"oldestVersionSupported\" : {\n              \"Fn::If\" : [ \"eksClusterOldestSupportedVersionParamOldestVersionSupported\", {\n                \"Ref\" : \"EksClusterOldestSupportedVersionParamOldestVersionSupported\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::EKS::Cluster\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EKS_CLUSTER_OLDEST_SUPPORTED_VERSION\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EksClusterSupportedVersion\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"eks-cluster-supported-version\",\n          \"InputParameters\" : {\n            \"oldestVersionSupported\" : {\n              \"Fn::If\" : [ \"eksClusterSupportedVersionParamOldestVersionSupported\", {\n                \"Ref\" : \"EksClusterSupportedVersionParamOldestVersionSupported\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::EKS::Cluster\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EKS_CLUSTER_SUPPORTED_VERSION\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EksEndpointNoPublicAccess\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"eks-endpoint-no-public-access\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EKS_ENDPOINT_NO_PUBLIC_ACCESS\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EksSecretsEncrypted\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"eks-secrets-encrypted\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EKS_SECRETS_ENCRYPTED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EmrKerberosEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"emr-kerberos-enabled\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EMR_KERBEROS_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"EmrMasterNoPublicIp\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"emr-master-no-public-ip\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"EMR_MASTER_NO_PUBLIC_IP\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3AccountLevelPublicAccessBlocksPeriodic\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-account-level-public-access-blocks-periodic\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS_PERIODIC\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketAclProhibited\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-acl-prohibited\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_ACL_PROHIBITED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketDefaultLockEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-default-lock-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_DEFAULT_LOCK_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketLevelPublicAccessProhibited\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-level-public-access-prohibited\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_LEVEL_PUBLIC_ACCESS_PROHIBITED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketLoggingEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-logging-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_LOGGING_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketPolicyGranteeCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-policy-grantee-check\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_POLICY_GRANTEE_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketPublicReadProhibited\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-public-read-prohibited\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_PUBLIC_READ_PROHIBITED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketPublicWriteProhibited\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-public-write-prohibited\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_PUBLIC_WRITE_PROHIBITED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketReplicationEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-replication-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_REPLICATION_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketServerSideEncryptionEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-server-side-encryption-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketSslRequestsOnly\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-ssl-requests-only\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_SSL_REQUESTS_ONLY\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3BucketVersioningEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-bucket-versioning-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_BUCKET_VERSIONING_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"S3DefaultEncryptionKms\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"s3-default-encryption-kms\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::S3::Bucket\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"S3_DEFAULT_ENCRYPTION_KMS\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"SagemakerEndpointConfigurationKmsKeyConfigured\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"sagemaker-endpoint-configuration-kms-key-configured\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"SagemakerNotebookInstanceKmsKeyConfigured\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"sagemaker-notebook-instance-kms-key-configured\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"SagemakerNotebookNoDirectInternetAccess\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"sagemaker-notebook-no-direct-internet-access\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      }\n    },\n    \"Conditions\" : {\n      \"ecsNoEnvironmentSecretsParamSecretKeys\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"EcsNoEnvironmentSecretsParamSecretKeys\"\n          } ]\n        } ]\n      },\n      \"ecsTaskDefinitionUserForHostModeCheckParamSkipInactiveTaskDefinitions\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"EcsTaskDefinitionUserForHostModeCheckParamSkipInactiveTaskDefinitions\"\n          } ]\n        } ]\n      },\n      \"eksClusterOldestSupportedVersionParamOldestVersionSupported\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"EksClusterOldestSupportedVersionParamOldestVersionSupported\"\n          } ]\n        } ]\n      },\n      \"eksClusterSupportedVersionParamOldestVersionSupported\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"EksClusterSupportedVersionParamOldestVersionSupported\"\n          } ]\n        } ]\n      }\n    }\n  }\n}",
  "CreatedDate": "2022-08-25T22:43:07.436Z",
  "DisplayName": null,
  "DocumentFormat": {
    "Value": "JSON"
  },
  "DocumentType": {
    "Value": "ConformancePackTemplate"
  },
  "DocumentVersion": "1",
  "Name": "AWSConformancePacks-OperationalBestPracticesforAIandML",
  "Requires": [],
  "ReviewStatus": null,
  "Status": {
    "Value": "Active"
  },
  "StatusInformation": null,
  "VersionName": null,
  "ResponseMetadata": {
    "RequestId": "c56b79a2-a940-49ef-af7f-9e25a0f1021a",
    "Metadata": {},
    "ChecksumAlgorithm": 0,
    "ChecksumValidationStatus": 0
  },
  "ContentLength": 19279,
  "HttpStatusCode": 200,
  "LoggedAt": "2023-02-07T07:11:52.365909+00:00"
}
