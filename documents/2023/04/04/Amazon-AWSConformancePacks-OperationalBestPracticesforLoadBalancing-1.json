{
  "AttachmentsContent": [],
  "Content": "{\n  \"schemaVersion\" : \"1.0\",\n  \"description\" : \"Operational Best Practices for Load Balancing\",\n  \"templateBody\" : {\n    \"Parameters\" : {\n      \"AlbDesyncModeCheckParamDesyncMode\" : {\n        \"Default\" : \"defensive, strictest\",\n        \"Type\" : \"String\"\n      },\n      \"ClbDesyncModeCheckParamDesyncMode\" : {\n        \"Default\" : \"defensive, strictest\",\n        \"Type\" : \"String\"\n      },\n      \"ElbCustomSecurityPolicySslCheckParamSslProtocolsAndCiphers\" : {\n        \"Default\" : \"Protocol-TLSv1.2\",\n        \"Type\" : \"String\"\n      },\n      \"ElbPredefinedSecurityPolicySslCheckParamPredefinedPolicyName\" : {\n        \"Default\" : \"ELBSecurityPolicy-TLS-1-2-2017-01\",\n        \"Type\" : \"String\"\n      }\n    },\n    \"Resources\" : {\n      \"AlbDesyncModeCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"alb-desync-mode-check\",\n          \"InputParameters\" : {\n            \"desyncMode\" : {\n              \"Fn::If\" : [ \"albDesyncModeCheckParamDesyncMode\", {\n                \"Ref\" : \"AlbDesyncModeCheckParamDesyncMode\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ALB_DESYNC_MODE_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"AlbHttpDropInvalidHeaderEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"alb-http-drop-invalid-header-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ALB_HTTP_DROP_INVALID_HEADER_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"AlbHttpToHttpsRedirectionCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"alb-http-to-https-redirection-check\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"AlbWafEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"alb-waf-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ALB_WAF_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"AutoscalingGroupElbHealthcheckRequired\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"autoscaling-group-elb-healthcheck-required\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::AutoScaling::AutoScalingGroup\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ClbDesyncModeCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"clb-desync-mode-check\",\n          \"InputParameters\" : {\n            \"desyncMode\" : {\n              \"Fn::If\" : [ \"clbDesyncModeCheckParamDesyncMode\", {\n                \"Ref\" : \"ClbDesyncModeCheckParamDesyncMode\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"CLB_DESYNC_MODE_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ClbMultipleAz\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"clb-multiple-az\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"CLB_MULTIPLE_AZ\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbAcmCertificateRequired\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-acm-certificate-required\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_ACM_CERTIFICATE_REQUIRED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbCrossZoneLoadBalancingEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-cross-zone-load-balancing-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbCustomSecurityPolicySslCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-custom-security-policy-ssl-check\",\n          \"InputParameters\" : {\n            \"sslProtocolsAndCiphers\" : {\n              \"Fn::If\" : [ \"elbCustomSecurityPolicySslCheckParamSslProtocolsAndCiphers\", {\n                \"Ref\" : \"ElbCustomSecurityPolicySslCheckParamSslProtocolsAndCiphers\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_CUSTOM_SECURITY_POLICY_SSL_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbDeletionProtectionEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-deletion-protection-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_DELETION_PROTECTION_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbLoggingEnabled\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-logging-enabled\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\", \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_LOGGING_ENABLED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbPredefinedSecurityPolicySslCheck\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-predefined-security-policy-ssl-check\",\n          \"InputParameters\" : {\n            \"predefinedPolicyName\" : {\n              \"Fn::If\" : [ \"elbPredefinedSecurityPolicySslCheckParamPredefinedPolicyName\", {\n                \"Ref\" : \"ElbPredefinedSecurityPolicySslCheckParamPredefinedPolicyName\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            }\n          },\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_PREDEFINED_SECURITY_POLICY_SSL_CHECK\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"ElbTlsHttpsListenersOnly\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elb-tls-https-listeners-only\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancing::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELB_TLS_HTTPS_LISTENERS_ONLY\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"Elbv2AcmCertificateRequired\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elbv2-acm-certificate-required\",\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELBV2_ACM_CERTIFICATE_REQUIRED\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      },\n      \"Elbv2MultipleAz\" : {\n        \"Properties\" : {\n          \"ConfigRuleName\" : \"elbv2-multiple-az\",\n          \"Scope\" : {\n            \"ComplianceResourceTypes\" : [ \"AWS::ElasticLoadBalancingV2::LoadBalancer\" ]\n          },\n          \"Source\" : {\n            \"Owner\" : \"AWS\",\n            \"SourceIdentifier\" : \"ELBV2_MULTIPLE_AZ\"\n          }\n        },\n        \"Type\" : \"AWS::Config::ConfigRule\"\n      }\n    },\n    \"Conditions\" : {\n      \"albDesyncModeCheckParamDesyncMode\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"AlbDesyncModeCheckParamDesyncMode\"\n          } ]\n        } ]\n      },\n      \"clbDesyncModeCheckParamDesyncMode\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"ClbDesyncModeCheckParamDesyncMode\"\n          } ]\n        } ]\n      },\n      \"elbCustomSecurityPolicySslCheckParamSslProtocolsAndCiphers\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"ElbCustomSecurityPolicySslCheckParamSslProtocolsAndCiphers\"\n          } ]\n        } ]\n      },\n      \"elbPredefinedSecurityPolicySslCheckParamPredefinedPolicyName\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ \"\", {\n            \"Ref\" : \"ElbPredefinedSecurityPolicySslCheckParamPredefinedPolicyName\"\n          } ]\n        } ]\n      }\n    }\n  }\n}",
  "CreatedDate": "2022-08-25T22:49:47.432Z",
  "DisplayName": null,
  "DocumentFormat": {
    "Value": "JSON"
  },
  "DocumentType": {
    "Value": "ConformancePackTemplate"
  },
  "DocumentVersion": "1",
  "Name": "AWSConformancePacks-OperationalBestPracticesforLoadBalancing",
  "Requires": [],
  "ReviewStatus": null,
  "Status": {
    "Value": "Active"
  },
  "StatusInformation": null,
  "VersionName": null,
  "ResponseMetadata": {
    "RequestId": "4ff441db-0652-44da-b865-7dce5439988f",
    "Metadata": {},
    "ChecksumAlgorithm": 0,
    "ChecksumValidationStatus": 0
  },
  "ContentLength": 10832,
  "HttpStatusCode": 200,
  "LoggedAt": "2023-04-04T07:11:11.1543547+00:00"
}
