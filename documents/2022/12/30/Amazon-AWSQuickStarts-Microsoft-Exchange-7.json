{
  "AttachmentsContent": [],
  "Content": "{\n  \"schemaVersion\" : \"1.0\",\n  \"description\" : \"This template deploys two Windows Server Failover Clustering (Exchange) and Exchange Server 2016 or 2019. This template also deploys the required AD architecture outlined in \\\"Implementing Active Directory Domain Services in the AWS Cloud\\\" **WARNING** This template creates Amazon EC2 Windows instance and related resources. You will be billed for the AWS resources used if you create a stack from this template. (qs-1qup6raep)\",\n  \"templateBody\" : {\n    \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n    \"Description\" : \"This template deploys two Windows Server Failover Clustering (Exchange) and Exchange Server 2016 or 2019. This template also deploys the required AD architecture outlined in \\\"Implementing Active Directory Domain Services in the AWS Cloud\\\" **WARNING** This template creates Amazon EC2 Windows instance and related resources. You will be billed for the AWS resources used if you create a stack from this template. (qs-1qup6raep)\",\n    \"Metadata\" : {\n      \"cfn-lint\" : {\n        \"config\" : {\n          \"ignore_checks\" : [ \"W9006\", \"W9901\" ]\n        }\n      },\n      \"QuickStartDocumentation\" : {\n        \"EntrypointName\" : \"Launch into a new VPC\",\n        \"Order\" : \"1\"\n      },\n      \"AWS::CloudFormation::Interface\" : {\n        \"ParameterGroups\" : [ {\n          \"Label\" : {\n            \"default\" : \"Network Configuration\"\n          },\n          \"Parameters\" : [ \"AvailabilityZones\", \"NumberOfAZs\", \"ThirdAZ\", \"VPCCIDR\", \"PublicSubnet1CIDR\", \"PublicSubnet2CIDR\", \"PublicSubnet3CIDR\", \"PrivateSubnet1CIDR\", \"PrivateSubnet2CIDR\", \"PrivateSubnet3CIDR\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Amazon EC2 Configuration\"\n          },\n          \"Parameters\" : [ \"KeyPairName\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Microsoft Active Directory Configuration\"\n          },\n          \"Parameters\" : [ \"DomainDNSName\", \"DomainNetBIOSName\", \"DomainAdminUser\", \"DomainAdminPassword\", \"ADServer1InstanceType\", \"ADServer1NetBIOSName\", \"ADServer1PrivateIP\", \"ADServer2InstanceType\", \"ADServer2NetBIOSName\", \"ADServer2PrivateIP\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Remote Desktop Gateway Configuration\"\n          },\n          \"Parameters\" : [ \"RDGWCIDR\", \"RDGWInstanceType\", \"NumberOfRDGWHosts\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Exchange Server Configuration\"\n          },\n          \"Parameters\" : [ \"EnableBackups\", \"ExchangeServerVersion\", \"IncludeEdgeTransportRole\", \"EdgeInstanceType\", \"EdgeNode1NetBIOSName\", \"EdgeNode1PrivateIP1\", \"EdgeNode2NetBIOSName\", \"EdgeNode2PrivateIP1\", \"EnableReFSVolumes\", \"EncryptDataVolumes\", \"EncryptionKmsKey\", \"SetupAppInsightsMonitoring\", \"VolumeIops\", \"VolumeSize\", \"VolumeType\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Load Balancer Configuration\"\n          },\n          \"Parameters\" : [ \"DeployLoadBalancer\", \"CertificateArn\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"Failover Cluster Configuration\"\n          },\n          \"Parameters\" : [ \"ExchangeNodeInstanceType\", \"ExchangeNode1NetBIOSName\", \"ExchangeNode1PrivateIP1\", \"ExchangeNode1PrivateIP2\", \"ExchangeNode2NetBIOSName\", \"ExchangeNode2PrivateIP1\", \"ExchangeNode2PrivateIP2\", \"ExchangeNode3NetBIOSName\", \"ExchangeNode3PrivateIP1\", \"ExchangeNode3PrivateIP2\", \"FileServerInstanceType\", \"FileServerNetBIOSName\", \"FileServerPrivateIP\" ]\n        }, {\n          \"Label\" : {\n            \"default\" : \"AWS Quick Start Configuration\"\n          },\n          \"Parameters\" : [ \"QSS3BucketName\", \"QSS3KeyPrefix\", \"QSS3BucketRegion\" ]\n        } ],\n        \"ParameterLabels\" : {\n          \"ADServer1InstanceType\" : {\n            \"default\" : \"Domain Controller 1 instance type\"\n          },\n          \"ADServer1NetBIOSName\" : {\n            \"default\" : \"Domain Controller 1 NetBIOS name\"\n          },\n          \"ADServer1PrivateIP\" : {\n            \"default\" : \"Domain Controller 1 private IP address\"\n          },\n          \"ADServer2InstanceType\" : {\n            \"default\" : \"Domain Controller 2 instance type\"\n          },\n          \"ADServer2NetBIOSName\" : {\n            \"default\" : \"Domain Controller 2 NetBIOS name\"\n          },\n          \"ADServer2PrivateIP\" : {\n            \"default\" : \"Domain Controller 2 private IP address\"\n          },\n          \"AvailabilityZones\" : {\n            \"default\" : \"Availability Zones\"\n          },\n          \"CertificateArn\" : {\n            \"default\" : \"Network Load Balancer Certificate\"\n          },\n          \"DeployLoadBalancer\" : {\n            \"default\" : \"Deploy Network Load Balancer\"\n          },\n          \"DomainAdminPassword\" : {\n            \"default\" : \"Domain Admin password\"\n          },\n          \"DomainAdminUser\" : {\n            \"default\" : \"Domain Admin user name\"\n          },\n          \"DomainDNSName\" : {\n            \"default\" : \"Domain DNS name\"\n          },\n          \"DomainNetBIOSName\" : {\n            \"default\" : \"Domain NetBIOS name\"\n          },\n          \"EnableBackups\" : {\n            \"default\" : \"Enable AWS Backups\"\n          },\n          \"EdgeInstanceType\" : {\n            \"default\" : \"Edge Role instance type\"\n          },\n          \"EdgeNode1NetBIOSName\" : {\n            \"default\" : \"Edge Node 1 NetBIOS name\"\n          },\n          \"EdgeNode1PrivateIP1\" : {\n            \"default\" : \"Edge Node 1 private IP address\"\n          },\n          \"EdgeNode2NetBIOSName\" : {\n            \"default\" : \"Edge Node 2 NetBIOS name\"\n          },\n          \"EdgeNode2PrivateIP1\" : {\n            \"default\" : \"Edge Node 2 private IP address\"\n          },\n          \"EnableReFSVolumes\" : {\n            \"default\" : \"Enable or disable ReFS\"\n          },\n          \"EncryptDataVolumes\" : {\n            \"default\" : \"Encrypt data volumes\"\n          },\n          \"EncryptionKmsKey\" : {\n            \"default\" : \"KMS key to encrypt volumes\"\n          },\n          \"ExchangeServerVersion\" : {\n            \"default\" : \"Exchange Server version\"\n          },\n          \"ExchangeNode1NetBIOSName\" : {\n            \"default\" : \"Exchange Node 1 NetBIOS name\"\n          },\n          \"ExchangeNode1PrivateIP1\" : {\n            \"default\" : \"Exchange Node 1 private IP address 1\"\n          },\n          \"ExchangeNode1PrivateIP2\" : {\n            \"default\" : \"Exchange Node 1 private IP address 2\"\n          },\n          \"ExchangeNode2NetBIOSName\" : {\n            \"default\" : \"Exchange Node 2 NetBIOS name\"\n          },\n          \"ExchangeNode2PrivateIP1\" : {\n            \"default\" : \"Exchange Node 2 private IP address 1\"\n          },\n          \"ExchangeNode2PrivateIP2\" : {\n            \"default\" : \"Exchange Node 2 private IP address 2\"\n          },\n          \"ExchangeNode3NetBIOSName\" : {\n            \"default\" : \"Exchange Node 3 NetBIOS name\"\n          },\n          \"ExchangeNode3PrivateIP1\" : {\n            \"default\" : \"Exchange Node 3 private IP address 1\"\n          },\n          \"ExchangeNode3PrivateIP2\" : {\n            \"default\" : \"Exchange Node 3 private IP address 2\"\n          },\n          \"ExchangeNodeInstanceType\" : {\n            \"default\" : \"Instance type for Exchange nodes\"\n          },\n          \"FileServerInstanceType\" : {\n            \"default\" : \"File Server instance type\"\n          },\n          \"FileServerNetBIOSName\" : {\n            \"default\" : \"File Server NetBIOS name\"\n          },\n          \"FileServerPrivateIP\" : {\n            \"default\" : \"File Server private IP address\"\n          },\n          \"IncludeEdgeTransportRole\" : {\n            \"default\" : \"Deploy Edge servers\"\n          },\n          \"KeyPairName\" : {\n            \"default\" : \"Key pair name\"\n          },\n          \"NumberOfRDGWHosts\" : {\n            \"default\" : \"Number of RDGW Hosts\"\n          },\n          \"NumberOfAZs\" : {\n            \"default\" : \"Number of Availability Zones\"\n          },\n          \"PrivateSubnet1CIDR\" : {\n            \"default\" : \"Private Subnet 1 CIDR\"\n          },\n          \"PrivateSubnet2CIDR\" : {\n            \"default\" : \"Private Subnet 2 CIDR\"\n          },\n          \"PrivateSubnet3CIDR\" : {\n            \"default\" : \"Private Subnet 3 CIDR\"\n          },\n          \"PublicSubnet1CIDR\" : {\n            \"default\" : \"Public Subnet 1 CIDR\"\n          },\n          \"PublicSubnet2CIDR\" : {\n            \"default\" : \"Public Subnet 2 CIDR\"\n          },\n          \"PublicSubnet3CIDR\" : {\n            \"default\" : \"Public Subnet 3 CIDR\"\n          },\n          \"QSS3BucketName\" : {\n            \"default\" : \"Quick Start S3 bucket name\"\n          },\n          \"QSS3BucketRegion\" : {\n            \"default\" : \"Quick Start S3 bucket region\"\n          },\n          \"QSS3KeyPrefix\" : {\n            \"default\" : \"Quick Start S3 key prefix\"\n          },\n          \"RDGWInstanceType\" : {\n            \"default\" : \"Remote Desktop Gateway instance type\"\n          },\n          \"RDGWCIDR\" : {\n            \"default\" : \"Allowed Remote Desktop Gateway external access CIDR\"\n          },\n          \"SetupAppInsightsMonitoring\" : {\n            \"default\" : \"Setup Application Insights Monitoring\"\n          },\n          \"ThirdAZ\" : {\n            \"default\" : \"Third Availability Zone\"\n          },\n          \"VolumeIops\" : {\n            \"default\" : \"Exchange Server volume IOPS\"\n          },\n          \"VolumeSize\" : {\n            \"default\" : \"Exchange Server volume size (GiB)\"\n          },\n          \"VolumeType\" : {\n            \"default\" : \"Exchange Server volume type\"\n          },\n          \"VPCCIDR\" : {\n            \"default\" : \"VPC CIDR\"\n          }\n        }\n      }\n    },\n    \"Parameters\" : {\n      \"ADServer1InstanceType\" : {\n        \"AllowedValues\" : [ \"t3.medium\", \"t3.large\", \"t3.xlarge\", \"t3.2xlarge\", \"m5.large\", \"m5.xlarge\", \"m5.2xlarge\", \"m5.4xlarge\" ],\n        \"Default\" : \"m5.xlarge\",\n        \"Description\" : \"The Amazon EC2 instance type for the first Active Directory instance.\",\n        \"Type\" : \"String\"\n      },\n      \"ADServer1NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"DC1\",\n        \"Description\" : \"The NetBIOS name of the first Active Directory server (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"ADServer1PrivateIP\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.0.10\",\n        \"Description\" : \"The private IP for the first Active Directory server located in Availability Zone 1.\",\n        \"Type\" : \"String\"\n      },\n      \"ADServer2InstanceType\" : {\n        \"AllowedValues\" : [ \"t3.medium\", \"t3.large\", \"t3.xlarge\", \"t3.2xlarge\", \"m5.large\", \"m5.xlarge\", \"m5.2xlarge\", \"m5.4xlarge\" ],\n        \"Default\" : \"m5.xlarge\",\n        \"Description\" : \"The Amazon EC2 instance type for the second Active Directory instance.\",\n        \"Type\" : \"String\"\n      },\n      \"ADServer2NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"DC2\",\n        \"Description\" : \"The NetBIOS name of the second Active Directory server (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"ADServer2PrivateIP\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.32.10\",\n        \"Description\" : \"The private IP for the second Active Directory server located in Availability Zone 2.\",\n        \"Type\" : \"String\"\n      },\n      \"AvailabilityZones\" : {\n        \"Description\" : \"List of Availability Zones to use for the subnets in the VPC. Note: You must specify two Availability Zones, unless you specify the Third AZ parameter. In this case, you must specify three Availability Zones. The Quick Start preserves the logical order you specify.\",\n        \"Type\" : \"List<AWS::EC2::AvailabilityZone::Name>\"\n      },\n      \"CertificateArn\" : {\n        \"AllowedPattern\" : \"^(arn:[\\\\w+=\\\\/,.@-]+:[\\\\w+=\\\\/,.@-]+:[\\\\w+=\\\\/,.@-]*:[0-9]+:[\\\\w+=,.@-]+(\\\\/[\\\\w+=,.@-]+)*)?$\",\n        \"Default\" : \"\",\n        \"Description\" : \"(Conditional) If 'true' was chosen in Deploy Network Load Balancer option, specify the Certificate arn to be used by load balancer in arn:aws:acm:[REGION]:[ACCOUNTNUMBER]:certificate/[GUID] format.\",\n        \"MaxLength\" : \"90\",\n        \"Type\" : \"String\"\n      },\n      \"DomainAdminPassword\" : {\n        \"AllowedPattern\" : \"(?=^.{8,32}$)((?=.*\\\\d)(?=.*[A-Z])(?=.*[a-z])|(?=.*\\\\d)(?=.*[^A-Za-z0-9])(?=.*[a-z])|(?=.*[^A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z])|(?=.*\\\\d)(?=.*[A-Z])(?=.*[^A-Za-z0-9]))^.*\",\n        \"Description\" : \"The password for the domain admin user. Must be at least 8 characters containing letters, numbers and symbols.\",\n        \"MaxLength\" : \"32\",\n        \"MinLength\" : \"8\",\n        \"NoEcho\" : \"true\",\n        \"Type\" : \"String\"\n      },\n      \"DomainAdminUser\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"StackAdmin\",\n        \"Description\" : \"The user name for the account that will be added as Domain Administrator. This is separate from the default Administrator account.\",\n        \"MaxLength\" : \"25\",\n        \"MinLength\" : \"5\",\n        \"Type\" : \"String\"\n      },\n      \"DomainDNSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+[a-zA-Z0-9\\\\-]*\\\\.[a-zA-Z0-9]+$\",\n        \"Default\" : \"example.com\",\n        \"Description\" : \"The fully qualified domain name (FQDN) of the forest root domain e.g. example.com.\",\n        \"MaxLength\" : \"25\",\n        \"MinLength\" : \"3\",\n        \"Type\" : \"String\"\n      },\n      \"DomainNetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"example\",\n        \"Description\" : \"The NetBIOS name of the domain (up to 15 characters) for users of earlier versions of Windows e.g. EXAMPLE.\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"DeployLoadBalancer\" : {\n        \"AllowedValues\" : [ \"false\", \"true\" ],\n        \"Default\" : \"false\",\n        \"Description\" : \"Choose true to deploy a Network Load Balancer (NLB).\",\n        \"Type\" : \"String\"\n      },\n      \"EdgeInstanceType\" : {\n        \"Description\" : \"The Amazon EC2 instance type for the Exchange Edge Transport servers.\",\n        \"Type\" : \"String\",\n        \"Default\" : \"m5.large\",\n        \"AllowedValues\" : [ \"t3.large\", \"m5.large\", \"m5.xlarge\", \"m5.2xlarge\", \"m5.4xlarge\" ],\n        \"ConstraintDescription\" : \"Select a general purpose instance type\"\n      },\n      \"EdgeNode1NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"EdgeNode1\",\n        \"Description\" : \"The NetBIOS name of the first Edge server (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"EdgeNode1PrivateIP1\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.128.12\",\n        \"Description\" : \"The primary private IP for the first Edge server located in Availability Zone 1.\",\n        \"Type\" : \"String\"\n      },\n      \"EdgeNode2NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"EdgeNode2\",\n        \"Description\" : \"The NetBIOS name of the second Edge server (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"EdgeNode2PrivateIP1\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.144.12\",\n        \"Description\" : \"The primary private IP for the second Edge server located in Availability Zone 1.\",\n        \"Type\" : \"String\"\n      },\n      \"EncryptDataVolumes\" : {\n        \"AllowedValues\" : [ \"false\", \"true\" ],\n        \"Default\" : \"false\",\n        \"Description\" : \"Choose true to encrypt the data and log volumes on Exchange nodes.\",\n        \"Type\" : \"String\"\n      },\n      \"EnableReFSVolumes\" : {\n        \"AllowedValues\" : [ \"false\", \"true\" ],\n        \"Default\" : \"true\",\n        \"Description\" : \"Choose false to format the data and log volumes on Exchange nodes using NTFS instead of ReFS.\",\n        \"Type\" : \"String\"\n      },\n      \"EnableBackups\" : {\n        \"AllowedValues\" : [ \"yes\", \"no\" ],\n        \"Default\" : \"yes\",\n        \"Description\" : \"Creates a default daily/weekly backup schedule using AWS Backup\",\n        \"Type\" : \"String\"\n      },\n      \"EncryptionKmsKey\" : {\n        \"AllowedPattern\" : \"^(arn:[\\\\w+=\\\\/,.@-]+:[\\\\w+=\\\\/,.@-]+:[\\\\w+=\\\\/,.@-]*:[0-9]+:[\\\\w+=,.@-]+(\\\\/[\\\\w+=,.@-]+)*)?$\",\n        \"Default\" : \"\",\n        \"Description\" : \"(Optional) Specify the KMS encryption arn in format arn:aws:kms:[REGION]:[ACCOUNTNUMBER]:key/[GUID]. Leave blank to use default EBS encryption key.\",\n        \"MaxLength\" : \"90\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode1NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"ExchangeNode1\",\n        \"Description\" : \"The NetBIOS name of the first Exchange node (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode1PrivateIP1\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.0.100\",\n        \"Description\" : \"The primary private IP for Exchange node 1.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode1PrivateIP2\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.0.101\",\n        \"Description\" : \"The secondary private IP for Exchange node 1.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode2NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"ExchangeNode2\",\n        \"Description\" : \"The NetBIOS name of the second Exchange node (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode2PrivateIP1\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.32.100\",\n        \"Description\" : \"The primary private IP for Exchange node 2.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode2PrivateIP2\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.32.101\",\n        \"Description\" : \"The secondary private IP for Exchange node 2.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode3NetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"ExchangeNode3\",\n        \"Description\" : \"(Optional) The NetBIOS name of the third Exchange node (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode3PrivateIP1\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.64.100\",\n        \"Description\" : \"(Optional) The primary private IP for the Exchange node 3.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNode3PrivateIP2\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.64.101\",\n        \"Description\" : \"(Optional) The secondary private IP for the Exchange node 3.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeNodeInstanceType\" : {\n        \"AllowedValues\" : [ \"m5.xlarge\", \"r4.xlarge\", \"r4.2xlarge\", \"r4.4xlarge\", \"r4.8xlarge\", \"r5.xlarge\", \"r5.2xlarge\", \"r5.4xlarge\", \"r5.8xlarge\" ],\n        \"ConstraintDescription\" : \"Only EBS Optimized instance types r4.*, r5.* allowed\",\n        \"Default\" : \"r5.xlarge\",\n        \"Description\" : \"The Amazon EC2 instance type for the Exchange nodes.\",\n        \"Type\" : \"String\"\n      },\n      \"ExchangeServerVersion\" : {\n        \"AllowedValues\" : [ \"2016\", \"2019\" ],\n        \"Default\" : \"2019\",\n        \"Description\" : \"Version of Exchange Server to install. Options include either \\\"2016\\\" or \\\"2019\\\".\",\n        \"Type\" : \"String\"\n      },\n      \"FileServerInstanceType\" : {\n        \"Default\" : \"t3.small\",\n        \"AllowedValues\" : [ \"t3.small\", \"t3.large\", \"m5.xlarge\" ],\n        \"Description\" : \"The Amazon EC2 instance type for the file-share witness server.\",\n        \"Type\" : \"String\"\n      },\n      \"FileServerNetBIOSName\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9]+$\",\n        \"Default\" : \"FileServer\",\n        \"Description\" : \"The NetBIOS name of the file-share witness server (up to 15 characters).\",\n        \"MaxLength\" : \"15\",\n        \"MinLength\" : \"1\",\n        \"Type\" : \"String\"\n      },\n      \"FileServerPrivateIP\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\n        \"Default\" : \"10.0.0.200\",\n        \"Description\" : \"The primary private IP for the file-share witness server.\",\n        \"Type\" : \"String\"\n      },\n      \"IncludeEdgeTransportRole\" : {\n        \"AllowedValues\" : [ \"yes\", \"no\" ],\n        \"Default\" : \"no\",\n        \"Description\" : \"Choose yes to deploy Exchange Edge Transport servers in the public subnets.\",\n        \"Type\" : \"String\"\n      },\n      \"KeyPairName\" : {\n        \"Description\" : \"Public/private key pairs allow you to securely connect to your instance after it launches.\",\n        \"Type\" : \"AWS::EC2::KeyPair::KeyName\"\n      },\n      \"NumberOfRDGWHosts\" : {\n        \"AllowedValues\" : [ \"0\", \"1\", \"2\", \"3\", \"4\" ],\n        \"Default\" : \"0\",\n        \"Description\" : \"The number of Remote Desktop Gateway hosts to create.\",\n        \"Type\" : \"String\"\n      },\n      \"NumberOfAZs\" : {\n        \"AllowedValues\" : [ \"2\", \"3\" ],\n        \"Default\" : \"2\",\n        \"Description\" : \"Number of Availability Zones to use in the VPC. This must match your selections in the list of Availability Zones parameter.\",\n        \"Type\" : \"String\"\n      },\n      \"PrivateSubnet1CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.0.0/19\",\n        \"Description\" : \"CIDR Block for private subnet 1 located in Availability Zone 1.\",\n        \"Type\" : \"String\"\n      },\n      \"PrivateSubnet2CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.32.0/19\",\n        \"Description\" : \"CIDR Block for private subnet 2 located in Availability Zone 2.\",\n        \"Type\" : \"String\"\n      },\n      \"PrivateSubnet3CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.64.0/19\",\n        \"Description\" : \"(Optional) CIDR Block for private subnet 3 located in Availability Zone 3.\",\n        \"Type\" : \"String\"\n      },\n      \"PublicSubnet1CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.128.0/20\",\n        \"Description\" : \"CIDR Block for the public DMZ subnet 1 located in Availability Zone 1.\",\n        \"Type\" : \"String\"\n      },\n      \"PublicSubnet2CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.144.0/20\",\n        \"Description\" : \"CIDR Block for the public DMZ subnet 2 located in Availability Zone 2.\",\n        \"Type\" : \"String\"\n      },\n      \"PublicSubnet3CIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"Default\" : \"10.0.160.0/20\",\n        \"Description\" : \"(Optional) CIDR Block for the public DMZ subnet 3 located in Availability Zone 3.\",\n        \"Type\" : \"String\"\n      },\n      \"QSS3BucketName\" : {\n        \"AllowedPattern\" : \"^[a-z0-9]+[a-z0-9\\\\.\\\\-]*[a-z0-9]+$\",\n        \"ConstraintDescription\" : \"Quick Start bucket name can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).\",\n        \"Default\" : \"aws-quickstart\",\n        \"Description\" : \"The S3 bucket youâ€™ve created for your copy of Quick Start assets, if you decide to customize or extend the Quick Start for your own use. The bucket name can include numbers, lowercase letters, uppercase letters, and hyphens, but should not start or end with a hyphen.\",\n        \"Type\" : \"String\"\n      },\n      \"QSS3BucketRegion\" : {\n        \"AllowedPattern\" : \"^[a-z]+\\\\-[a-z\\\\-]+\\\\-[0-9]{1}$\",\n        \"Default\" : \"us-east-1\",\n        \"Description\" : \"The AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. When using your own bucket, you must specify this value.\",\n        \"Type\" : \"String\"\n      },\n      \"QSS3KeyPrefix\" : {\n        \"AllowedPattern\" : \"^[a-zA-Z0-9\\\\-\\\\/]+$\",\n        \"ConstraintDescription\" : \"Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/).\",\n        \"Default\" : \"quickstart-microsoft-exchange/\",\n        \"Description\" : \"The S3 key name prefix used to simulate a folder for your copy of Quick Start assets, if you decide to customize or extend the Quick Start for your own use. This prefix can include numbers, lowercase letters, uppercase letters, hyphens, and forward slashes, but should not start or end with a forward slash (which is automatically added).\",\n        \"Type\" : \"String\"\n      },\n      \"RDGWCIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/([0-9]|[1-2][0-9]|3[0-2]))$\",\n        \"ConstraintDescription\" : \"CIDR block parameter must be in the form x.x.x.x/x\",\n        \"Description\" : \"The allowed CIDR Block for external access to the Remote Desktop Gateways.\",\n        \"Type\" : \"String\"\n      },\n      \"RDGWInstanceType\" : {\n        \"AllowedValues\" : [ \"t2.small\", \"t2.medium\", \"t2.large\", \"t3.micro\", \"t3.small\", \"t3.medium\", \"t3.large\", \"t3.xlarge\", \"t3.2xlarge\", \"t3a.micro\", \"t3a.small\", \"t3a.medium\", \"t3a.large\", \"t3a.xlarge\", \"t3a.2xlarge\", \"m5.large\", \"m5.xlarge\", \"m5.2xlarge\", \"m5.4xlarge\", \"m5a.large\", \"m5a.xlarge\", \"m5a.2xlarge\" ],\n        \"Default\" : \"t3.large\",\n        \"Description\" : \"The Amazon EC2 instance type for the Remote Desktop Gateway instances.\",\n        \"Type\" : \"String\"\n      },\n      \"SetupAppInsightsMonitoring\" : {\n        \"AllowedValues\" : [ \"true\", \"false\" ],\n        \"Default\" : \"false\",\n        \"Description\" : \"Setup Application Insights monitoring for Exchange resources.\",\n        \"Type\" : \"String\"\n      },\n      \"ThirdAZ\" : {\n        \"AllowedValues\" : [ \"no\", \"witness\", \"full\" ],\n        \"Default\" : \"no\",\n        \"Description\" : \"Enable a 3 AZ deployment, the 3rd AZ can either be used just for the witness, or can be a full Exchange node. Note that if witness is chosen, the WFC File Server Private IP Address parameter must be set to an IP in the 3rd subnet range.\",\n        \"Type\" : \"String\"\n      },\n      \"VPCCIDR\" : {\n        \"AllowedPattern\" : \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\\\/(1[6-9]|2[0-8]))$\",\n        \"ConstraintDescription\" : \"CIDR block parameter must be in the form x.x.x.x/16-28\",\n        \"Default\" : \"10.0.0.0/16\",\n        \"Description\" : \"CIDR Block for the VPC.\",\n        \"Type\" : \"String\"\n      },\n      \"VolumeIops\" : {\n        \"Default\" : \"3000\",\n        \"Description\" : \"The provisioned IOPS for the Exchange Data and Logs volumes. This parameter is only applicable when Exchange Server Volume Type is set to \\\"gp3\\\".\",\n        \"MaxValue\" : \"16000\",\n        \"MinValue\" : \"3000\",\n        \"Type\" : \"Number\"\n      },\n      \"VolumeSize\" : {\n        \"Default\" : \"500\",\n        \"Description\" : \"The volume size for the Exchange Data and Logs volumes.\",\n        \"MaxValue\" : \"16000\",\n        \"MinValue\" : \"125\",\n        \"Type\" : \"Number\"\n      },\n      \"VolumeType\" : {\n        \"AllowedValues\" : [ \"gp3\", \"st1\" ],\n        \"Default\" : \"gp3\",\n        \"Description\" : \"The volume type for the Exchange Data and Logs volumes.\",\n        \"Type\" : \"String\"\n      }\n    },\n    \"Conditions\" : {\n      \"IsTwoAz\" : {\n        \"Fn::Equals\" : [ {\n          \"Ref\" : \"ThirdAZ\"\n        }, \"no\" ]\n      },\n      \"IncludeRDGW\" : {\n        \"Fn::Not\" : [ {\n          \"Fn::Equals\" : [ {\n            \"Ref\" : \"NumberOfRDGWHosts\"\n          }, \"0\" ]\n        } ]\n      },\n      \"UsingDefaultBucket\" : {\n        \"Fn::Equals\" : [ {\n          \"Ref\" : \"QSS3BucketName\"\n        }, \"aws-quickstart\" ]\n      },\n      \"AppInsightsEnabled\" : {\n        \"Fn::Equals\" : [ {\n          \"Ref\" : \"SetupAppInsightsMonitoring\"\n        }, true ]\n      }\n    },\n    \"Resources\" : {\n      \"VPCStack\" : {\n        \"Type\" : \"AWS::CloudFormation::Stack\",\n        \"Properties\" : {\n          \"TemplateURL\" : {\n            \"Fn::Sub\" : \"ssm-doc://arn:${AWS::Partition}:ssm:${AWS::Region}::document/AWSQuickStarts-AWS-VPC\"\n          },\n          \"Parameters\" : {\n            \"AvailabilityZones\" : {\n              \"Fn::Join\" : [ \",\", {\n                \"Ref\" : \"AvailabilityZones\"\n              } ]\n            },\n            \"NumberOfAZs\" : {\n              \"Ref\" : \"NumberOfAZs\"\n            },\n            \"PrivateSubnet1ACIDR\" : {\n              \"Ref\" : \"PrivateSubnet1CIDR\"\n            },\n            \"PrivateSubnet2ACIDR\" : {\n              \"Ref\" : \"PrivateSubnet2CIDR\"\n            },\n            \"PrivateSubnet3ACIDR\" : {\n              \"Fn::If\" : [ \"IsTwoAz\", {\n                \"Ref\" : \"AWS::NoValue\"\n              }, {\n                \"Ref\" : \"PrivateSubnet3CIDR\"\n              } ]\n            },\n            \"PublicSubnet1CIDR\" : {\n              \"Ref\" : \"PublicSubnet1CIDR\"\n            },\n            \"PublicSubnet2CIDR\" : {\n              \"Ref\" : \"PublicSubnet2CIDR\"\n            },\n            \"PublicSubnet3CIDR\" : {\n              \"Fn::If\" : [ \"IsTwoAz\", {\n                \"Ref\" : \"AWS::NoValue\"\n              }, {\n                \"Ref\" : \"PublicSubnet3CIDR\"\n              } ]\n            },\n            \"VPCCIDR\" : {\n              \"Ref\" : \"VPCCIDR\"\n            }\n          }\n        }\n      },\n      \"ADStack\" : {\n        \"Type\" : \"AWS::CloudFormation::Stack\",\n        \"Properties\" : {\n          \"TemplateURL\" : {\n            \"Fn::Sub\" : [ \"https://${S3Bucket}.s3.${S3Region}.${AWS::URLSuffix}/${QSS3KeyPrefix}submodules/quickstart-microsoft-activedirectory/templates/ad-1.template\", {\n              \"S3Region\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Ref\" : \"AWS::Region\"\n                }, {\n                  \"Ref\" : \"QSS3BucketRegion\"\n                } ]\n              },\n              \"S3Bucket\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Fn::Sub\" : \"${QSS3BucketName}-${AWS::Region}\"\n                }, {\n                  \"Ref\" : \"QSS3BucketName\"\n                } ]\n              }\n            } ]\n          },\n          \"Parameters\" : {\n            \"ADServer1InstanceType\" : {\n              \"Ref\" : \"ADServer1InstanceType\"\n            },\n            \"ADServer1NetBIOSName\" : {\n              \"Ref\" : \"ADServer1NetBIOSName\"\n            },\n            \"ADServer1PrivateIP\" : {\n              \"Ref\" : \"ADServer1PrivateIP\"\n            },\n            \"ADServer2InstanceType\" : {\n              \"Ref\" : \"ADServer2InstanceType\"\n            },\n            \"ADServer2NetBIOSName\" : {\n              \"Ref\" : \"ADServer2NetBIOSName\"\n            },\n            \"ADServer2PrivateIP\" : {\n              \"Ref\" : \"ADServer2PrivateIP\"\n            },\n            \"DomainAdminPassword\" : {\n              \"Ref\" : \"DomainAdminPassword\"\n            },\n            \"DomainAdminUser\" : {\n              \"Ref\" : \"DomainAdminUser\"\n            },\n            \"DomainDNSName\" : {\n              \"Ref\" : \"DomainDNSName\"\n            },\n            \"DomainNetBIOSName\" : {\n              \"Ref\" : \"DomainNetBIOSName\"\n            },\n            \"KeyPairName\" : {\n              \"Ref\" : \"KeyPairName\"\n            },\n            \"PrivateSubnet1ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PrivateSubnet1AID\" ]\n            },\n            \"PrivateSubnet2ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PrivateSubnet2AID\" ]\n            },\n            \"QSS3BucketName\" : {\n              \"Ref\" : \"QSS3BucketName\"\n            },\n            \"QSS3BucketRegion\" : {\n              \"Ref\" : \"QSS3BucketRegion\"\n            },\n            \"QSS3KeyPrefix\" : {\n              \"Fn::Sub\" : \"${QSS3KeyPrefix}submodules/quickstart-microsoft-activedirectory/\"\n            },\n            \"VPCCIDR\" : {\n              \"Ref\" : \"VPCCIDR\"\n            },\n            \"VPCID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.VPCID\" ]\n            }\n          }\n        }\n      },\n      \"RDGWStack\" : {\n        \"Type\" : \"AWS::CloudFormation::Stack\",\n        \"Condition\" : \"IncludeRDGW\",\n        \"Properties\" : {\n          \"TemplateURL\" : {\n            \"Fn::Sub\" : [ \"https://${S3Bucket}.s3.${S3Region}.${AWS::URLSuffix}/${QSS3KeyPrefix}submodules/quickstart-microsoft-rdgateway/templates/rdgw-domain.template\", {\n              \"S3Region\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Ref\" : \"AWS::Region\"\n                }, {\n                  \"Ref\" : \"QSS3BucketRegion\"\n                } ]\n              },\n              \"S3Bucket\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Fn::Sub\" : \"${QSS3BucketName}-${AWS::Region}\"\n                }, {\n                  \"Ref\" : \"QSS3BucketName\"\n                } ]\n              }\n            } ]\n          },\n          \"Parameters\" : {\n            \"DomainAdminPassword\" : {\n              \"Ref\" : \"DomainAdminPassword\"\n            },\n            \"DomainAdminUser\" : {\n              \"Ref\" : \"DomainAdminUser\"\n            },\n            \"DomainDNSName\" : {\n              \"Ref\" : \"DomainDNSName\"\n            },\n            \"DomainMemberSGID\" : {\n              \"Fn::GetAtt\" : [ \"ADStack\", \"Outputs.DomainMemberSGID\" ]\n            },\n            \"DomainNetBIOSName\" : {\n              \"Ref\" : \"DomainNetBIOSName\"\n            },\n            \"KeyPairName\" : {\n              \"Ref\" : \"KeyPairName\"\n            },\n            \"NumberOfRDGWHosts\" : {\n              \"Ref\" : \"NumberOfRDGWHosts\"\n            },\n            \"PublicSubnet1ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PublicSubnet1ID\" ]\n            },\n            \"PublicSubnet2ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PublicSubnet2ID\" ]\n            },\n            \"QSS3BucketName\" : {\n              \"Ref\" : \"QSS3BucketName\"\n            },\n            \"QSS3BucketRegion\" : {\n              \"Ref\" : \"QSS3BucketRegion\"\n            },\n            \"QSS3KeyPrefix\" : {\n              \"Fn::Sub\" : \"${QSS3KeyPrefix}submodules/quickstart-microsoft-rdgateway/\"\n            },\n            \"RDGWInstanceType\" : {\n              \"Ref\" : \"RDGWInstanceType\"\n            },\n            \"RDGWCIDR\" : {\n              \"Ref\" : \"RDGWCIDR\"\n            },\n            \"VPCID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.VPCID\" ]\n            }\n          }\n        }\n      },\n      \"ExchangeStack\" : {\n        \"Type\" : \"AWS::CloudFormation::Stack\",\n        \"Properties\" : {\n          \"TemplateURL\" : {\n            \"Fn::Sub\" : [ \"https://${S3Bucket}.s3.${S3Region}.${AWS::URLSuffix}/${QSS3KeyPrefix}templates/exchange.template.yaml\", {\n              \"S3Region\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Ref\" : \"AWS::Region\"\n                }, {\n                  \"Ref\" : \"QSS3BucketRegion\"\n                } ]\n              },\n              \"S3Bucket\" : {\n                \"Fn::If\" : [ \"UsingDefaultBucket\", {\n                  \"Fn::Sub\" : \"${QSS3BucketName}-${AWS::Region}\"\n                }, {\n                  \"Ref\" : \"QSS3BucketName\"\n                } ]\n              }\n            } ]\n          },\n          \"Parameters\" : {\n            \"ADServer1NetBIOSName\" : {\n              \"Ref\" : \"ADServer1NetBIOSName\"\n            },\n            \"ADServer1PrivateIP\" : {\n              \"Ref\" : \"ADServer1PrivateIP\"\n            },\n            \"ADServer2NetBIOSName\" : {\n              \"Ref\" : \"ADServer2NetBIOSName\"\n            },\n            \"AppInsightsApplicationName\" : {\n              \"Fn::If\" : [ \"AppInsightsEnabled\", {\n                \"Fn::Sub\" : \"ApplicationInsights-${AWS::StackName}\"\n              }, {\n                \"Ref\" : \"AWS::NoValue\"\n              } ]\n            },\n            \"CertificateArn\" : {\n              \"Ref\" : \"CertificateArn\"\n            },\n            \"DeployLoadBalancer\" : {\n              \"Ref\" : \"DeployLoadBalancer\"\n            },\n            \"DomainAdminPassword\" : {\n              \"Ref\" : \"DomainAdminPassword\"\n            },\n            \"DomainAdminUser\" : {\n              \"Ref\" : \"DomainAdminUser\"\n            },\n            \"DomainDNSName\" : {\n              \"Ref\" : \"DomainDNSName\"\n            },\n            \"DomainMemberSGID\" : {\n              \"Fn::GetAtt\" : [ \"ADStack\", \"Outputs.DomainMemberSGID\" ]\n            },\n            \"DomainNetBIOSName\" : {\n              \"Ref\" : \"DomainNetBIOSName\"\n            },\n            \"EdgeInstanceType\" : {\n              \"Ref\" : \"EdgeInstanceType\"\n            },\n            \"EdgeNode1NetBIOSName\" : {\n              \"Ref\" : \"EdgeNode1NetBIOSName\"\n            },\n            \"EdgeNode1PrivateIP1\" : {\n              \"Ref\" : \"EdgeNode1PrivateIP1\"\n            },\n            \"EdgeNode2NetBIOSName\" : {\n              \"Ref\" : \"EdgeNode2NetBIOSName\"\n            },\n            \"EdgeNode2PrivateIP1\" : {\n              \"Ref\" : \"EdgeNode2PrivateIP1\"\n            },\n            \"EnableBackups\" : {\n              \"Ref\" : \"EnableBackups\"\n            },\n            \"EncryptionKmsKey\" : {\n              \"Ref\" : \"EncryptionKmsKey\"\n            },\n            \"ExchangeServerVersion\" : {\n              \"Ref\" : \"ExchangeServerVersion\"\n            },\n            \"EnableReFSVolumes\" : {\n              \"Ref\" : \"EnableReFSVolumes\"\n            },\n            \"EncryptDataVolumes\" : {\n              \"Ref\" : \"EncryptDataVolumes\"\n            },\n            \"FileServerInstanceType\" : {\n              \"Ref\" : \"FileServerInstanceType\"\n            },\n            \"FileServerPrivateIP\" : {\n              \"Ref\" : \"FileServerPrivateIP\"\n            },\n            \"FileServerNetBIOSName\" : {\n              \"Ref\" : \"FileServerNetBIOSName\"\n            },\n            \"IncludeEdgeTransportRole\" : {\n              \"Ref\" : \"IncludeEdgeTransportRole\"\n            },\n            \"KeyPairName\" : {\n              \"Ref\" : \"KeyPairName\"\n            },\n            \"PrivateSubnet1ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PrivateSubnet1AID\" ]\n            },\n            \"PrivateSubnet1CIDR\" : {\n              \"Ref\" : \"PrivateSubnet1CIDR\"\n            },\n            \"PrivateSubnet2ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PrivateSubnet2AID\" ]\n            },\n            \"PrivateSubnet2CIDR\" : {\n              \"Ref\" : \"PrivateSubnet2CIDR\"\n            },\n            \"PrivateSubnet3ID\" : {\n              \"Fn::If\" : [ \"IsTwoAz\", {\n                \"Ref\" : \"AWS::NoValue\"\n              }, {\n                \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PrivateSubnet3AID\" ]\n              } ]\n            },\n            \"PrivateSubnet3CIDR\" : {\n              \"Ref\" : \"PrivateSubnet3CIDR\"\n            },\n            \"PublicSubnet1ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PublicSubnet1ID\" ]\n            },\n            \"PublicSubnet2ID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.PublicSubnet2ID\" ]\n            },\n            \"QSS3BucketName\" : {\n              \"Ref\" : \"QSS3BucketName\"\n            },\n            \"QSS3BucketRegion\" : {\n              \"Ref\" : \"QSS3BucketRegion\"\n            },\n            \"QSS3KeyPrefix\" : {\n              \"Ref\" : \"QSS3KeyPrefix\"\n            },\n            \"ThirdAZ\" : {\n              \"Ref\" : \"ThirdAZ\"\n            },\n            \"SetupAppInsightsMonitoring\" : {\n              \"Ref\" : \"SetupAppInsightsMonitoring\"\n            },\n            \"VPCID\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.VPCID\" ]\n            },\n            \"VPCCidrBlock\" : {\n              \"Fn::GetAtt\" : [ \"VPCStack\", \"Outputs.VPCCIDR\" ]\n            },\n            \"VolumeSize\" : {\n              \"Ref\" : \"VolumeSize\"\n            },\n            \"VolumeType\" : {\n              \"Ref\" : \"VolumeType\"\n            },\n            \"VolumeIops\" : {\n              \"Ref\" : \"VolumeIops\"\n            },\n            \"ExchangeNodeInstanceType\" : {\n              \"Ref\" : \"ExchangeNodeInstanceType\"\n            },\n            \"ExchangeNode1NetBIOSName\" : {\n              \"Ref\" : \"ExchangeNode1NetBIOSName\"\n            },\n            \"ExchangeNode1PrivateIP1\" : {\n              \"Ref\" : \"ExchangeNode1PrivateIP1\"\n            },\n            \"ExchangeNode1PrivateIP2\" : {\n              \"Ref\" : \"ExchangeNode1PrivateIP2\"\n            },\n            \"ExchangeNode2NetBIOSName\" : {\n              \"Ref\" : \"ExchangeNode2NetBIOSName\"\n            },\n            \"ExchangeNode2PrivateIP1\" : {\n              \"Ref\" : \"ExchangeNode2PrivateIP1\"\n            },\n            \"ExchangeNode2PrivateIP2\" : {\n              \"Ref\" : \"ExchangeNode2PrivateIP2\"\n            },\n            \"ExchangeNode3NetBIOSName\" : {\n              \"Ref\" : \"ExchangeNode3NetBIOSName\"\n            },\n            \"ExchangeNode3PrivateIP1\" : {\n              \"Fn::If\" : [ \"IsTwoAz\", {\n                \"Ref\" : \"AWS::NoValue\"\n              }, {\n                \"Ref\" : \"ExchangeNode3PrivateIP1\"\n              } ]\n            },\n            \"ExchangeNode3PrivateIP2\" : {\n              \"Fn::If\" : [ \"IsTwoAz\", {\n                \"Ref\" : \"AWS::NoValue\"\n              }, {\n                \"Ref\" : \"ExchangeNode3PrivateIP2\"\n              } ]\n            }\n          }\n        }\n      }\n    }\n  }\n}",
  "CreatedDate": "2022-12-19T21:01:33.465Z",
  "DisplayName": null,
  "DocumentFormat": {
    "Value": "JSON"
  },
  "DocumentType": {
    "Value": "CloudFormation"
  },
  "DocumentVersion": "7",
  "Name": "AWSQuickStarts-Microsoft-Exchange",
  "Requires": [],
  "ReviewStatus": null,
  "Status": {
    "Value": "Active"
  },
  "StatusInformation": null,
  "VersionName": "AWSQuickStarts-Microsoft-Exchange-2022-12-19-20-59-52",
  "ResponseMetadata": {
    "RequestId": "0bb4452d-4e96-451f-8b24-400ad9714a3f",
    "Metadata": {},
    "ChecksumAlgorithm": 0,
    "ChecksumValidationStatus": 0
  },
  "ContentLength": 46499,
  "HttpStatusCode": 200,
  "LoggedAt": "2022-12-30T07:11:41.2805555+00:00"
}
